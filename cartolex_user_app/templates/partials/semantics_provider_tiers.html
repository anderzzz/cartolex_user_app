<!-- Semantics Provider Tiers - Level 3 in Progressive Disclosure -->
{% if configs and configs.configurations %}
    {% set configurations = configs.configurations %}

    <!-- Iterate through tiers for this provider -->
    {% for tier, tier_config in configurations.items() %}
        {% set tier_key = endpoint_name + '-' + provider + '-' + tier %}

        <!-- Level 3: Tier -->
        <div class="progressive-item-l3">
            <!-- Tier Header -->
            <div class="progressive-header" @click="toggleTier('{{ endpoint_name }}', '{{ provider }}', '{{ tier }}')">
                <div class="flex-1">
                    <h5 class="font-medium esevioz-text">{{ tier }}</h5>
                </div>
                <svg class="progressive-chevron progressive-chevron-sm"
                     :class="{ 'expanded': expandedTiers['{{ tier_key }}'] }"
                     fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                </svg>
            </div>

            <!-- Level 4: Details Container -->
            <div x-show="expandedTiers['{{ tier_key }}']" x-collapse class="progressive-content progressive-content-l3">
                <div id="details-{{ tier_key }}">
                    <!-- Details will be loaded here via HTMX -->
                </div>
            </div>
        </div>
    {% endfor %}
{% else %}
    <!-- No Tiers Available -->
    <div class="progressive-item-l3">
        <div class="text-center py-4">
            <svg class="mx-auto h-5 w-5 esevioz-text opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>
            </svg>
            <p class="mt-2 text-xs esevioz-text opacity-75">No tiers available for {{ provider }}</p>
        </div>
    </div>
{% endif %}